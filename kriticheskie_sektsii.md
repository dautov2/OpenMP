# Критические секции

#####*В очередь, сукины дети, в очередь!*
###### Михаил Афанасьевич Булгаков. Собачье сердце



```
#pragma omp critical (name) 
```

Всегда именуйте критические секции.
Согласно стандарту все критические секции без имени, будут относится к группе неопределенные. Это значит для программы  критические секции без имени на одно лицо. 
Присвоение имени позволит вам одновременно выполнять две и более критические секции одновременно.



```
#pragma omp critical  
{
    doworkA();
}
#pragma omp critical 
{
    doworkB();
}
//Сначало будет завершено   doworkA() , а только потом doworkB()



#pragma omp critical (first) 
{
    doworkA();
}
#pragma omp critical (second) 
{
    doworkB();
}

//doworkA () и doworkB() будут выполнены одновременно 

```
Однако, есть случаи когда этого делать не стоит. К примеру, не стоит делать именованные критические секции для вывода данных на экран или же в один файл.
```
#pragma omp critical
{
	cout << "Hello from thread" << omp_get_thread_num()<<endl;
}
//omp_get_thread_num() - библиотечная функция которая возвращает номер потока.
```
